---
layout : post
categories : python, AI, vision
title : 영상처리
tags : [python, AI, vision]
date-string : March 19, 2024
---

# 영상처리

## 핀홀 카메라 모델
- 영상 획득 과정은 매우 복잡
- 핀홀 카메라 모델 : 물체에 반사된 빛은 카메라구멍을 통해 영상평면에 맺힘

## 디지털 변환
- M x N영상으로 샘플링
- L 단계로 양자화(quantization)
- 엄밀히 말해 해상도는 물리적 단위 공간에서 식별 가능한 점의 개수를 뜻함
- 여기선 화소의 개수를 해상도라 함

## 영상 좌표계
- 왼쪽 위 구석이 원점
- (y, x) 표기
- 함수에 따라 (x, y)표기 사용. 주의할 필요가 있다(ex - cv.line())
- opencv는 numpy.ndarray로 영상 표현
- 넘파이가 지원하는다양한 함수를 사용할 수 있음(min, max, argmin, argmax, mean...)

흑백 : 2차원 행렬
컬러 : 3차원 텐서
영상 : 4차원 텐서
점구름 영상 : 라이다로 획득(텐서로 읽어지긴 하지만 나타나는 정보가 다름)
RGB-D : 깊이 또는 레인지 추가. 빛 변화에 강건

## RGB 컬러 모델
- RGB 삼원색의 혼합(빛의 삼원색)
- 0~1사이의 값으로 나타냄(1에 가까워 질수록 밝아짐)

## HSV 컬러 모델
- 빛의 밝기가 V요소에 집중
- RGB보다 빛의 밝기에 강건

## 넘파이의 슬라이싱 기능을 이용하여 RGB 채널별로 디스플레이

## 이진 영상
- 화소가 0 또는 1인 영상
- 1비트면 저장할 수 있는데, 편의상 1바이트 사용하는 경우 많음
- 에지 검출 결과를 표시하거나 물체와 배경을 구분하여 표시하는 응용 등에 사용

## 알고리즘
- 임계값 T보다 큰 화소는 1, 그렇지 않으면 0으로 바꿈. 임계값 결정이 중요
- 히스토그램에서 계곡 부근으로 결정하는 방법
- 실제 영상에서는 계곡이 아주 많이 나타나서 구현이 쉽지 않음

## 오츄 알고리즘
- 이진화를 최적화 문제로 바라봄. 최적값을 임계값으로 이용
- 목적 함수 J(t)는 임계값 t의 좋은 정도를 측정함
  - t로 이진화했을 때 0이 되는 화소들의 분산과 1이 되는 화소들의 분산의 가중치 합을 J로 사용

## 최적화 문제를 푸는 알고리즘
- 오츄는 최적화를 구현하는데 낱낱 탐색 알고리즘사용
  - 매개변수 t가 해공간을 구성하는데, 해공간이 작아 낱낱탐색 가능
  - L이 256이라면 해공간은 {0, 1, 2, ..., 255}
- 컴퓨터 비전은 문제를 최적화로 푸는 경우가 많음. 해공간이 커서 낱낱탐색 불가능 -> 부최적해를 찾는 효율적인 알고리즘 사용
  - 스네이크는 탐욕 알고리즘 사용
  - 역전파 알고리즘은 미분 사용


## 4-연결성과 8-연결성
- 4-연결성은 기준을 중심으로 네방향을 십자가 모양으로
- 8-연결성은 4-연결성에 네방향 대각선도 포함

## 연결 요소
- 연결 요소는 고유한 정수 번호로 구분


## 모폴로지는 구조 요소를 이용하여 영역의 모양을 조작

## 팽창, 침식, 열림 닫힘
- 팽탕은 작은 홈을 메우거나 끊어진 영역을 연결하는 효과. 영역을 키움
- 침식은 경계에 솟은 돌출 부분을 깎는 효과. 영역을 작게 만듦
- 열림은 침식한 결과에 팽창 적용. 원래 영역 크기 유지
- 닫힘은 팽창한 결과에 침식을 적용. 원래 영역 크기 유지